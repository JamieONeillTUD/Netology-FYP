<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Netology – Signup</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="net-bg">

  <!-- Topbar -->
  <header class="net-topbar" role="banner">
    <div class="container d-flex align-items-center justify-content-between gap-3">
      <div class="d-flex align-items-center gap-3">
        <div class="net-logo" aria-hidden="true"></div>
        <div>
          <div class="net-brand">Netology</div>
          <div class="net-subtitle small">Create your learning account</div>
        </div>
      </div>
      <a href="login.html" class="btn btn-outline-secondary btn-sm" aria-label="Go to login">Login</a>
    </div>
  </header>

  <main class="container my-5 net-auth-wrap" role="main">
    <div class="row justify-content-center g-4">
      <div class="col-lg-8">

        <div class="p-4 p-lg-5 net-auth-card">

          <h1 class="h3 mb-2 text-teal">Create account</h1>
          <p class="text-muted mb-4">Step-by-step signup — like Khan Academy / Codecademy.</p>

          <!-- Progress bar -->
          <div class="mb-4">
            <div class="d-flex justify-content-between small text-muted mb-2">
              <span id="stepLabel">Step 1 of 4</span>
              <span id="stepTitle">Your details</span>
            </div>
            <div class="progress" style="height: 10px;">
              <div id="stepProgress" class="progress-bar bg-teal" style="width: 25%"></div>
            </div>
          </div>

          <!-- Signup form (IMPORTANT: keep ids/names for app.js) -->
          <form id="signupForm" method="POST" action="/signup" aria-label="Signup form">

            <!-- STEP 1: DETAILS -->
            <section class="net-step-page" data-step="1" aria-label="Step 1: Your details">
              <h2 class="h5 text-teal mb-3">Your Details</h2>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="first_name" class="form-label">First name</label>
                  <input type="text" id="first_name" name="first_name"
                         class="form-control net-input"
                         autocomplete="given-name" required>
                </div>

                <div class="col-md-6">
                  <label for="last_name" class="form-label">Last name</label>
                  <input type="text" id="last_name" name="last_name"
                         class="form-control net-input"
                         autocomplete="family-name" required>
                </div>

                <div class="col-md-6">
                  <label for="username" class="form-label">Username</label>
                  <input type="text" id="username" name="username"
                         class="form-control net-input"
                         autocomplete="username" required>
                </div>

                <div class="col-md-6">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" id="email" name="email"
                         class="form-control net-input"
                         autocomplete="email" required>
                </div>

                <div class="col-12">
                  <label for="password" class="form-label">Password</label>
                  <input type="password" id="password" name="password"
                         class="form-control net-input"
                         autocomplete="new-password" minlength="8" required>
                  <div class="form-text">Minimum 8 characters</div>
                </div>
              </div>
            </section>

            <!-- STEP 2: LEVEL -->
            <section class="net-step-page d-none" data-step="2" aria-label="Step 2: Your level">
              <h2 class="h5 text-teal mb-3">Your Networking Level</h2>
              <p class="text-muted small mb-3">Pick what best describes you (you can change later).</p>

              <div class="row g-3">
                <div class="col-md-4">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="radio" name="level" value="novice" checked>
                    <div class="ms-2">
                      <strong>Novice</strong><br>
                      <small class="text-muted">Just starting out</small>
                    </div>
                  </label>
                </div>

                <div class="col-md-4">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="radio" name="level" value="intermediate">
                    <div class="ms-2">
                      <strong>Intermediate</strong><br>
                      <small class="text-muted">Some experience</small>
                    </div>
                  </label>
                </div>

                <div class="col-md-4">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="radio" name="level" value="advanced">
                    <div class="ms-2">
                      <strong>Advanced</strong><br>
                      <small class="text-muted">Confident & skilled</small>
                    </div>
                  </label>
                </div>
              </div>
            </section>

            <!-- STEP 3: REASONS -->
            <section class="net-step-page d-none" data-step="3" aria-label="Step 3: Your reasons">
              <h2 class="h5 text-teal mb-3">Why Are You Learning Networking?</h2>
              <p class="text-muted small mb-3">Select all that apply.</p>

              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="checkbox" name="reasons" value="career">
                    <div class="ms-2">
                      <strong>Career advancement</strong><br>
                      <small class="text-muted">Promotion or new job</small>
                    </div>
                  </label>
                </div>

                <div class="col-md-6">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="checkbox" name="reasons" value="certification">
                    <div class="ms-2">
                      <strong>Certification prep</strong><br>
                      <small class="text-muted">CCNA, Network+, etc.</small>
                    </div>
                  </label>
                </div>

                <div class="col-md-6">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="checkbox" name="reasons" value="academic">
                    <div class="ms-2">
                      <strong>Academic studies</strong><br>
                      <small class="text-muted">College or coursework</small>
                    </div>
                  </label>
                </div>

                <div class="col-md-6">
                  <label class="form-check border rounded-4 p-3 h-100 w-100" style="cursor:pointer;">
                    <input class="form-check-input" type="checkbox" name="reasons" value="personal">
                    <div class="ms-2">
                      <strong>Personal interest</strong><br>
                      <small class="text-muted">Enjoy learning tech</small>
                    </div>
                  </label>
                </div>
              </div>

              <div class="small text-muted mt-3">
                You can leave this empty if you want.
              </div>
            </section>

            <!-- STEP 4: REVIEW -->
            <section class="net-step-page d-none" data-step="4" aria-label="Step 4: Review">
              <h2 class="h5 text-teal mb-3">Review & Create</h2>
              <p class="text-muted small mb-3">Check your details, then create your account.</p>

              <div class="net-card p-3 rounded-4 mb-3">
                <div class="row g-2 small">
                  <div class="col-md-6"><strong>First name:</strong> <span id="reviewFirst"></span></div>
                  <div class="col-md-6"><strong>Last name:</strong> <span id="reviewLast"></span></div>
                  <div class="col-md-6"><strong>Username:</strong> <span id="reviewUser"></span></div>
                  <div class="col-md-6"><strong>Email:</strong> <span id="reviewEmail"></span></div>
                  <div class="col-md-6"><strong>Level:</strong> <span id="reviewLevel"></span></div>
                  <div class="col-md-6"><strong>Reasons:</strong> <span id="reviewReasons"></span></div>
                </div>
              </div>

              <div class="alert alert-info small mb-0" role="alert">
                By creating an account, you can start courses, earn XP, and save sandbox progress.
              </div>
            </section>

            <!-- Nav buttons -->
            <div class="d-flex justify-content-between align-items-center mt-4 gap-2">
              <button type="button" id="backBtn" class="btn btn-outline-secondary" aria-label="Go back">
                ← Back
              </button>

              <div class="d-flex gap-2">
                <button type="button" id="nextBtn" class="btn btn-teal" aria-label="Go to next step">
                  Next →
                </button>

                <button type="submit" id="submitBtn" class="btn btn-teal d-none" aria-label="Create account">
                  Create account
                </button>
              </div>
            </div>

            <p class="text-center mt-3 mb-0 small">
              Already have an account?
              <a href="login.html" class="link-teal" aria-label="Go to login">Login</a>
            </p>

          </form>

        </div>
      </div>
    </div>
  </main>

  <footer class="text-center border-top py-3 bg-white" role="contentinfo">
    <p class="small text-muted mb-0">2025 – Jamie O’Neill – TU857/4</p>
  </footer>

  <!-- Keep your existing app.js -->
  <script src="js/config.js"></script>
  <script src="js/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Wizard JS (simple + self contained) -->
  <script>
    (function () {
      let step = 1;
      const totalSteps = 4;

      const stepLabel = document.getElementById("stepLabel");
      const stepTitle = document.getElementById("stepTitle");
      const stepProgress = document.getElementById("stepProgress");

      const backBtn = document.getElementById("backBtn");
      const nextBtn = document.getElementById("nextBtn");
      const submitBtn = document.getElementById("submitBtn");

      const pages = Array.from(document.querySelectorAll(".net-step-page"));

      const titles = {
        1: "Your details",
        2: "Your level",
        3: "Your reasons",
        4: "Review"
      };

      function showStep(n) {
        step = n;

        pages.forEach(p => p.classList.add("d-none"));
        const page = document.querySelector(`.net-step-page[data-step="${step}"]`);
        if (page) page.classList.remove("d-none");

        stepLabel.textContent = `Step ${step} of ${totalSteps}`;
        stepTitle.textContent = titles[step] || "";
        stepProgress.style.width = `${(step / totalSteps) * 100}%`;

        backBtn.disabled = step === 1;

        // Only show submit on last step
        if (step === totalSteps) {
          nextBtn.classList.add("d-none");
          submitBtn.classList.remove("d-none");
          fillReview();
        } else {
          nextBtn.classList.remove("d-none");
          submitBtn.classList.add("d-none");
        }
      }

      function validateStep1() {
        const first = document.getElementById("first_name");
        const last = document.getElementById("last_name");
        const user = document.getElementById("username");
        const email = document.getElementById("email");
        const pass = document.getElementById("password");

        // Simple required check (browser will also enforce required on submit)
        if (!first.value.trim() || !last.value.trim() || !user.value.trim() || !email.value.trim() || !pass.value.trim()) {
          alert("Please fill in all required fields before continuing.");
          return false;
        }
        if (pass.value.length < 8) {
          alert("Password must be at least 8 characters.");
          return false;
        }
        return true;
      }

      function fillReview() {
        document.getElementById("reviewFirst").textContent = document.getElementById("first_name").value || "-";
        document.getElementById("reviewLast").textContent = document.getElementById("last_name").value || "-";
        document.getElementById("reviewUser").textContent = document.getElementById("username").value || "-";
        document.getElementById("reviewEmail").textContent = document.getElementById("email").value || "-";

        const lvl = document.querySelector('input[name="level"]:checked');
        document.getElementById("reviewLevel").textContent = lvl ? lvl.value : "-";

        const reasons = Array.from(document.querySelectorAll('input[name="reasons"]:checked')).map(x => x.value);
        document.getElementById("reviewReasons").textContent = reasons.length ? reasons.join(", ") : "None selected";
      }

      backBtn.addEventListener("click", () => {
        if (step > 1) showStep(step - 1);
      });

      nextBtn.addEventListener("click", () => {
        if (step === 1 && !validateStep1()) return;
        if (step < totalSteps) showStep(step + 1);
      });

      showStep(1);
    })();
  </script>

</body>
</html>
